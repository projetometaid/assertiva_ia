<!-- Sidebar -->
<aside class="sidebar" id="sidebar" role="navigation" aria-label="Menu principal">
    <!-- Header -->
    <header class="sidebar-header">
        <div class="sidebar-brand" role="button" tabindex="0" aria-label="Logo Assertiva" title="Sistema Assertiva">
            <div class="sidebar-logo">
                <img src="{{ url_for('static', filename='assets/logos/logo _assertiva.png') }}" alt="Logo Assertiva" />
            </div>
        </div>
        <button class="sidebar-toggle" id="sidebarToggleBtn" type="button" aria-label="Recolher menu lateral" title="Recolher menu" style="display: none;">
            <i data-lucide="chevron-left" aria-hidden="true"></i>
            <span class="sr-only">Recolher menu</span>
        </button>
    </header>

    <!-- Navigation -->
    <nav class="sidebar-nav" role="navigation" aria-label="Menu de navegação">
        <ul class="nav-list" role="menubar">
            <li class="nav-item" role="none">
                <a href="{{ url_for('web.atendimento') }}"
                   class="nav-link {{ 'active' if request.endpoint == 'web.atendimento' }}"
                   role="menuitem"
                   aria-current="{{ 'page' if request.endpoint == 'web.atendimento' else 'false' }}"
                   title="Sistema de Atendimento">
                    <div class="nav-icon" aria-hidden="true">
                        <i data-lucide="message-square"></i>
                    </div>
                    <span class="nav-text">Atendimento</span>
                </a>
            </li>

            {% if user and user.role == 'admin' %}
            <li class="nav-item" role="none">
                <a href="{{ url_for('web.configuracoes') }}"
                   class="nav-link {{ 'active' if request.endpoint == 'web.configuracoes' }}"
                   role="menuitem"
                   aria-current="{{ 'page' if request.endpoint == 'web.configuracoes' else 'false' }}"
                   title="Configurações do Sistema">
                    <div class="nav-icon" aria-hidden="true">
                        <i data-lucide="settings"></i>
                    </div>
                    <span class="nav-text">Configurações</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>

    <!-- Footer with Logout -->
    <footer class="sidebar-footer">
        {% if user %}
            <div class="nav-item">
                <button type="button" class="nav-link logout-link" onclick="fazerLogout()" title="Sair do Sistema" aria-label="Fazer logout">
                    <div class="nav-icon" aria-hidden="true">
                        <i data-lucide="log-out"></i>
                    </div>
                    <span class="nav-text">Sair</span>
                </button>
            </div>
        {% else %}
            <div class="nav-item">
                <div class="nav-link nav-link-disabled" title="Modo Local" aria-label="Modo de desenvolvimento local">
                    <div class="nav-icon" aria-hidden="true">
                        <i data-lucide="monitor"></i>
                    </div>
                    <span class="nav-text">Modo Local</span>
                </div>
            </div>
        {% endif %}
    </footer>
</aside>
